<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>MDN Examples</title>
    </head>
    <body>
        <h1>MDN Examples</h1>
        <h2>Pop-up info widget - web components</h2>
        <form>
            <div>
                <label for="cvc"
                    >Enter your CVC
                    <popup-info
                        img="/alt.png"
                        data-text="Your card validation code (CVC) is an extra security feature â€” it is the last 3 or 4 numbers on the back of your card."
                    ></popup-info
                ></label>
                <input type="text" id="cvc" />
            </div>
        </form>
        <h2>Expanding list web component</h2>
        <ul is="expanding-list">
            <li>
                UK
                <ul>
                    <li>
                        Yorkshire
                        <ul>
                            <li>
                                Leeds
                                <ul>
                                    <li>Train station</li>
                                    <li>Town hall</li>
                                    <li>Headrow</li>
                                </ul>
                            </li>
                            <li>Bradford</li>
                            <li>Hull</li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li>
                USA
                <ul>
                    <li>
                        California
                        <ul>
                            <li>Los Angeles</li>
                            <li>San Francisco</li>
                            <li>Berkeley</li>
                        </ul>
                    </li>
                    <li>Nevada</li>
                    <li>Oregon</li>
                </ul>
            </li>
        </ul>
        <ul>
            <li>Not</li>
            <li>an</li>
            <li>expanding</li>
            <li>list</li>
        </ul>
        <h2>Custom Element - lifecycle</h2>
        <div class="buttons">
            <button class="add">Add</button>
            <button class="update" disabled>Update</button>
            <button class="remove" disabled>Remove</button>
        </div>
        <script>
            const random = (min, max) => {
                return Math.floor(Math.random() * (max - min + 1) + min);
            };

            const add = document.querySelector(".add");
            const update = document.querySelector(".update");
            const remove = document.querySelector(".remove");
            let square;
            if (add && update && remove) {
                add.onclick = () => {
                    // Create a custom square element
                    square = document.createElement("custom-square");
                    square.setAttribute("size", "100");
                    square.setAttribute("color", "red");
                    document.body.appendChild(square);

                    update.disabled = false;
                    remove.disabled = false;
                    add.disabled = true;
                };
                update.onclick = () => {
                    // Randomly update square's attributes
                    square.setAttribute("size", random(50, 200).toString());
                    square.setAttribute("color", `rgb(${random(0, 255)}, ${random(0, 255)}, ${random(0, 255)})`);
                };

                remove.onclick = () => {
                    // Remove the square
                    document.body.removeChild(square);

                    update.disabled = true;
                    remove.disabled = true;
                    add.disabled = false;
                };
            }
        </script>
        <script type="module" src="/index.ts"></script>
    </body>
</html>
